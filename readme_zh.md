## ä¸­æ–‡ | [English](readme.md)

- [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
- [è®¸å¯è¯](#è®¸å¯è¯)
- [å®‰è£…è¯´æ˜](#å®‰è£…è¯´æ˜)
- [ç›®å½•ç»“æ„](#ç›®å½•ç»“æ„)
- [ä½¿ç”¨æ–¹æ³•](#ä½¿ç”¨æ–¹æ³•)
  - [å¯åŠ¨æœåŠ¡](#å¯åŠ¨æœåŠ¡)
    - [airçƒ­æ›´æ–°](#airçƒ­æ›´æ–°)
  - [é…ç½®æ–‡ä»¶](#é…ç½®æ–‡ä»¶)
    -[é¡¹ç›®é…ç½®](#é¡¹ç›®é…ç½®)
    -[çƒ­æ›´æ–°é…ç½®](#çƒ­æ›´æ–°é…ç½®)
  - [è·¯ç”±](#è·¯ç”±)
    - [è·¯ç”±åˆ›å»ºå¸®åŠ©](#è·¯ç”±åˆ›å»ºå¸®åŠ©)
    - [è·¯ç”±åˆ›å»º](#è·¯ç”±åˆ›å»º)
    - [è·¯ç”±åˆ—è¡¨](#è·¯ç”±åˆ—è¡¨)
  - [æ§åˆ¶å™¨](#æ§åˆ¶å™¨)
    - [æ§åˆ¶å™¨åˆ›å»ºå¸®åŠ©](#æ§åˆ¶å™¨åˆ›å»ºå¸®åŠ©)
    - [æ§åˆ¶å™¨åˆ›å»º](#æ§åˆ¶å™¨åˆ›å»º)
  - [è¡¨å•éªŒè¯](#è¡¨å•éªŒè¯)
    - [éªŒè¯åˆ›å»ºå¸®åŠ©](#éªŒè¯åˆ›å»ºå¸®åŠ©)
    - [éªŒè¯åˆ›å»º](#éªŒè¯åˆ›å»º)
    - [éªŒè¯åœºæ™¯](#éªŒè¯åœºæ™¯)
    - [éªŒè¯è§„åˆ™](#éªŒè¯è§„åˆ™)
    - [æç¤ºä¿¡æ¯](#æç¤ºä¿¡æ¯)
    - [ç¿»è¯‘](#ç¿»è¯‘)
    - [è‡ªå®šä¹‰éªŒè¯](#è‡ªå®šä¹‰éªŒè¯)
  - [æ¨¡å‹](#æ¨¡å‹)
    - [æ¨¡å‹åˆ›å»ºå¸®åŠ©](#æ¨¡å‹åˆ›å»ºå¸®åŠ©)
    - [æ¨¡å‹åˆ›å»º](#æ¨¡å‹åˆ›å»º)
  - [æœåŠ¡](#æœåŠ¡)
    - [æœåŠ¡åˆ›å»ºå¸®åŠ©](#æœåŠ¡åˆ›å»ºå¸®åŠ©)
    - [æœåŠ¡åˆ›å»º](#æœåŠ¡åˆ›å»º)
  - [å‘½ä»¤è¡Œ](#å‘½ä»¤è¡Œ)
    - [ç®€ä»‹](#ç®€ä»‹)
    - [å‘½ä»¤å¸®åŠ©](#å‘½ä»¤å¸®åŠ©)
    - [ç¼–å†™å‘½ä»¤](#ç¼–å†™å‘½ä»¤)
    - [åˆ›å»ºå‘½ä»¤å¸®åŠ©](#åˆ›å»ºå‘½ä»¤å¸®åŠ©)
    - [åˆ›å»ºå‘½ä»¤](#åˆ›å»ºå‘½ä»¤)
    - [å‘½ä»¤ç»“æ„](#å‘½ä»¤ç»“æ„)
    - [é€‰é¡¹å‚æ•°](#é€‰é¡¹å‚æ•°)
    - [æ³¨å†Œå‘½ä»¤](#æ³¨å†Œå‘½ä»¤)
    - [æ‰§è¡Œå‘½ä»¤](#æ‰§è¡Œå‘½ä»¤)
  - [ç¼“å­˜](#ç¼“å­˜)
    - [å…¨å±€ç¼“å­˜](#å…¨å±€ç¼“å­˜)
    - [Redisç¼“å­˜](#Redisç¼“å­˜)
    - [å†…å­˜ç¼“å­˜](#å†…å­˜ç¼“å­˜)
    - [ç£ç›˜ç¼“å­˜](#ç£ç›˜ç¼“å­˜)
  - [äº‹ä»¶](#äº‹ä»¶)
  - [å“åº”](#å“åº”)
    - [æˆåŠŸå“åº”](#æˆåŠŸå“åº”)
      - [æ·»åŠ æç¤º](#æ·»åŠ æç¤º)
      - [æ·»åŠ æ•°æ®](#æ·»åŠ æ•°æ®)
    - [å¤±è´¥å“åº”](#å¤±è´¥å“åº”)
      - [æ·»åŠ æç¤º](#æ·»åŠ æç¤º)
      - [æ·»åŠ æ•°æ®](#æ·»åŠ æ•°æ®)
  - [é”™è¯¯å¤„ç†](#é”™è¯¯å¤„ç†)
  - [æ—¥å¿—](#æ—¥å¿—)
    - [é”™è¯¯è°ƒè¯•](#é”™è¯¯è°ƒè¯•)
  - [å¤šè¯­è¨€](#å¤šè¯­è¨€)
  - [swaggeræ–‡æ¡£](#swaggeræ–‡æ¡£)

# é¡¹ç›®ç®€ä»‹
> åŸºäºGolangè¯­è¨€æ¡†æ¶Go Ginå¼€å‘çš„è½»é‡çº§æ¡†æ¶ï¼Œå¼€ç®±å³ç”¨ï¼Œè®¾è®¡çµæ„ŸåŸºäºlaravelã€thinphpç­‰ä¸»æµphpæ¡†æ¶ï¼Œé¡¹ç›®æ¶æ„ç›®å½•å±‚æ¬¡åˆ†æ˜ï¼Œåˆå­¦è€…çš„ç¦éŸ³ï¼Œæ¡†æ¶ä½¿ç”¨JWTã€ä¸­é—´ä»¶ã€ç¼“å­˜ã€éªŒè¯å™¨ã€äº‹ä»¶ã€è·¯ç”±ã€redisã€å‘½ä»¤è¡Œå·¥å…·ç­‰ã€æ”¯æŒå¤šè¯­è¨€,å¼€å‘ç®€å•æ˜“äºä¸Šæ‰‹, æ–¹ä¾¿æ‰©å±•ã€‚
## é¡¹ç›®åœ°å€
- Github: https://github.com/dsxwk/gin.git
- Gitee: https://gitee.com/dsxwk/gin.git

## Ginæ¡†æ¶ä»‹ç»
> Ginæ˜¯ä¸€ä¸ªç”¨Goè¯­è¨€ç¼–å†™çš„Webæ¡†æ¶ã€‚å®ƒå…·æœ‰ç®€å•ã€å¿«é€Ÿã€é«˜æ•ˆç­‰ç‰¹ç‚¹ï¼Œè¢«å¹¿æ³›åº”ç”¨äºGoè¯­è¨€çš„Webå¼€å‘ä¸­ã€‚

## Ginæ¡†æ¶çš„ç‰¹æ€§
- å¿«é€Ÿ: Ginæ¡†æ¶åŸºäºæ ‡å‡†åº“net/httpï¼Œä½¿ç”¨goroutineå’Œchannelå®ç°å¼‚æ­¥å¤„ç†ï¼Œæé«˜æ€§èƒ½ã€‚
- ç®€å•: Ginæ¡†æ¶æä¾›äº†ä¸€ç³»åˆ—çš„APIå’Œä¸­é—´ä»¶ï¼Œä½¿å¾—å¼€å‘äººå‘˜å¯ä»¥å¿«é€Ÿæ„å»ºWebåº”ç”¨ç¨‹åºã€‚
- é«˜æ•ˆ: Ginæ¡†æ¶ä½¿ç”¨sync.Poolæ¥ç¼“å­˜å¯¹è±¡ï¼Œå‡å°‘å†…å­˜åˆ†é…å’Œé‡Šæ”¾ï¼Œæé«˜æ€§èƒ½ã€‚
> Golang Gin æ˜¯ä¸€ä¸ªè½»é‡çº§ä¸”é«˜æ•ˆçš„ Golang Web æ¡†æ¶ã€‚å®ƒå…·æœ‰é«˜æ€§èƒ½ã€æ˜“ç”¨æ€§å’Œçµæ´»æ€§ç­‰ç‰¹ç‚¹ï¼Œè¢«å¹¿æ³›åº”ç”¨äºå„ç§ Web åº”ç”¨ç¨‹åºçš„å¼€å‘ã€‚

# è®¸å¯è¯
- ğŸ“˜ å¼€æºç‰ˆ: éµå¾ª AGPL-3.0ï¼Œä»…ä¾›å­¦ä¹ ã€ç ”ç©¶åŠéå•†ä¸šç”¨é€”ã€‚
- ğŸ’¼ å•†ä¸šç‰ˆ: å¦‚éœ€é—­æºæˆ–å•†ä¸šä½¿ç”¨ï¼Œè¯·è”ç³»ä½œè€…ğŸ“§  [25076778@qq.com] è·å–å•†ä¸šæˆæƒã€‚

# å®‰è£…è¯´æ˜
> é¡¹ç›®åŸºäºGolang 1.25.2ç‰ˆæœ¬å¼€å‘, ä½ç‰ˆæœ¬å¯èƒ½å­˜åœ¨ç‰ˆæœ¬å·®å¼‚, å»ºè®®ç‰ˆæœ¬ >= 1.25.2ã€‚
## å…‹éš†é¡¹ç›®
```bash
$ git clone https://github.com/dsxwk/gin.git
$ cd gin
```
## åˆå§‹åŒ–Goç¯å¢ƒä¸ä¾èµ–
### æ–¹å¼ä¸€
```bash
$ go env -w GOPROXY=https://goproxy.cn,direct
$ go generate ./...
```
### æ–¹å¼äºŒ
```bash
$ go env -w GO111MODULE=on
$ go env -w GOPROXY=https://goproxy.cn,direct
$ go get -u
$ go mod tidy
$ go mod download
$ go mod vendor
```
## å¯åŠ¨
```bash
$ go run main.go
```
### ä½¿ç”¨airçƒ­æ›´æ–°
```bash
$ go install github.com/cosmtrek/air@latest
$ air
```

## ç¼–è¯‘
```bash
$ go build main.go
```
### è¿è¡Œ
```bash
$  ./main
```

# ç›®å½•ç»“æ„
```
â”œâ”€â”€ app                                 # åº”ç”¨ç¨‹åº
â”‚   â”œâ”€â”€ command                         # å‘½ä»¤
â”‚   â”œâ”€â”€ controller                      # æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ middleware                      # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ model                           # æ¨¡å‹
â”‚   â”œâ”€â”€ request                         # éªŒè¯å™¨
â”‚   â”œâ”€â”€ service                         # æœåŠ¡
â”œâ”€â”€ common                              # å…¬å…±æ¨¡å—
â”‚   â”œâ”€â”€ base                            # åŸºç±»
â”‚   â”œâ”€â”€ errcode                         # é”™è¯¯ç 
â”‚   â”œâ”€â”€ response                        # å“åº”
â”‚   â”œâ”€â”€ global                          # å…¨å±€å˜é‡
â”‚   â”œâ”€â”€ template                        # æ¨¡ç‰ˆ
â”œâ”€â”€ config                              # é…ç½®æ–‡ä»¶
â”œâ”€â”€ database                            # æ•°æ®åº“æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ docs                                # æ–‡æ¡£
â”œâ”€â”€ public                              # é™æ€èµ„æº
â”œâ”€â”€ router                              # è·¯ç”±
â”œâ”€â”€ storage                             # å­˜å‚¨
â”‚   â”œâ”€â”€ cache                           # ç£ç›˜ç¼“å­˜
â”‚   â”œâ”€â”€ logs                            # æ—¥å¿—
â”œâ”€â”€ tests                               # æµ‹è¯•ç”¨ä¾‹
â”œâ”€â”€ utils                               # å·¥å…·åŒ…
â”‚   â”œâ”€â”€â”œâ”€â”€ cache                        # ç¼“å­˜
â”‚   â”œâ”€â”€â”œâ”€â”€ i18n                         # å¤šè¯­è¨€
â”‚   â”œâ”€â”€â”œâ”€â”€â”œâ”€â”€ locales                   # ç¿»è¯‘æ–‡ä»¶
â”œâ”€â”€ vendor                              # ä¾èµ–åŒ…
â”œâ”€â”€ .air.linux.toml                     # airé…ç½®æ–‡ä»¶
â”œâ”€â”€ .air.toml                           # airé…ç½®æ–‡ä»¶
â”œâ”€â”€ .gitignore                          # gitå¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ cli.go                              # å‘½ä»¤è¡Œå…¥å£æ–‡ä»¶
â”œâ”€â”€ config.yaml                         # é»˜è®¤é…ç½®æ–‡ä»¶
â”œâ”€â”€ dev.config.yaml                     # æœ¬åœ°ç¯å¢ƒé…ç½®æ–‡ä»¶
â”œâ”€â”€ go.mod                              # go mod
â”œâ”€â”€ LICENSE                             # å¼€æºåè®®
â”œâ”€â”€ main.go                             # å…¥å£æ–‡ä»¶
â”œâ”€â”€ readme.md                           # è‹±æ–‡æ–‡æ¡£
â””â”€â”€ readme_zh.md                        # ä¸­æ–‡æ–‡æ¡£
```

# ä½¿ç”¨æ–¹æ³•
## å¯åŠ¨æœåŠ¡
```bash
$ go run main.go
```
### airçƒ­æ›´æ–°
```bash
$ go install github.com/cosmtrek/air@latest
$ air
```

## é…ç½®æ–‡ä»¶
### é¡¹ç›®é…ç½®
> `config.yaml`ä¸ºé»˜è®¤é…ç½®æ–‡ä»¶, å¯è‡ªè¡Œä¿®æ”¹ã€‚`dev.config.yaml`å¯¹åº”æœ¬åœ°ç¯å¢ƒé…ç½®, é€šè¿‡ä»¥ä¸‹app.envæ–‡ä»¶é…ç½®ç¯å¢ƒå˜é‡æ¥åˆ‡æ¢ç¯å¢ƒ
> ```
> app:
>   env: dev # dev|testing|production dev=æœ¬åœ°ç¯å¢ƒ testing=æµ‹è¯•ç¯å¢ƒ production=ç”Ÿäº§ç¯å¢ƒ
> ```

### çƒ­æ›´æ–°é…ç½®
> `.air.toml`ä¸ºWindowsç¯å¢ƒä¸‹é»˜è®¤é…ç½®æ–‡ä»¶, `.air.linux.toml`ä¸ºLinuxç¯å¢ƒä¸‹é»˜è®¤é…ç½®æ–‡ä»¶ã€‚å¯è‡ªè¡Œæ ¹æ®é¡¹ç›®æ•´ä½“éœ€è¦è‡ªè¡Œä¿®æ”¹ã€‚

## è·¯ç”±
> `router/root.go` æ–‡ä»¶ä¸­å®šä¹‰äº†å…¨å±€è·¯ç”±è§„åˆ™å¯è‡ªè¡Œä¿®æ”¹,  ä¸€èˆ¬æƒ…å†µåªéœ€è¦é»˜è®¤å³å¯ã€‚
### è·¯ç”±åˆ›å»ºå¸®åŠ©
```bash
$ go run cli.go make:router -h # --help
make:router - è·¯ç”±åˆ›å»º

Options:
  -f, --file  æ–‡ä»¶è·¯å¾„, å¦‚: user      required:true
  -d, --desc  è·¯ç”±æè¿°, å¦‚: ç”¨æˆ·è·¯ç”±   required:false
```

### è·¯ç”±åˆ›å»º
```bash
$ go run cli.go make:router --file=user --desc=ç”¨æˆ·è·¯ç”±
```
```go
package router

import (
	"gin/app/controller/v1"
	"github.com/gin-gonic/gin"
)

// UserRouter ç”¨æˆ·è·¯ç”±
type UserRouter struct{}

func init() {
	Register(&UserRouter{})
}

// RegisterRoutes æ³¨å†Œè·¯ç”±
func (r *UserRouter) RegisterRoutes(routerGroup *gin.RouterGroup) {
	var (
		user v1.UserController
	)

	router := routerGroup.Group("api/v1")
	{
		// åˆ—è¡¨
		router.GET("/user", user.List)
		// åˆ›å»º
		router.POST("/user", user.Create)
		// æ›´æ–°
		router.PUT("/user/:id", user.Update)
		// åˆ é™¤
		router.DELETE("/user/:id", user.Delete)
		// è¯¦æƒ…
		router.GET("/user/:id", user.Detail)
	}
}

// IsAuth æ˜¯å¦éœ€è¦é‰´æƒ
func (r *UserRouter) IsAuth() bool {
	return true
}

```

### è·¯ç”±åˆ—è¡¨
```bash
$ go run cli.go route:list
---------------------------------------------------------
Method   Path                                Handler
---------------------------------------------------------
POST     /api/v1/login                       gin/app/controller/v1.(*LoginController).Login
GET      /api/v1/user                        gin/app/controller/v1.(*UserController).List
POST     /api/v1/user                        gin/app/controller/v1.(*UserController).Create
GET      /api/v1/user/:id                    gin/app/controller/v1.(*UserController).Detail
PUT      /api/v1/user/:id                    gin/app/controller/v1.(*UserController).Update
DELETE   /api/v1/user/:id                    gin/app/controller/v1.(*UserController).Delete
GET      /ping                               gin/router.LoadRouters
GET      /public/*filepath                   github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler
HEAD     /public/*filepath                   github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler
GET      /swagger/*any                       github.com/swaggo/gin-swagger.CustomWrapHandler
---------------------------------------------------------
æ€»è®¡ 10 æ¡è·¯ç”±
```

## æ§åˆ¶å™¨
### æ§åˆ¶å™¨åˆ›å»ºå¸®åŠ©
```bash
$ go run cli.go make:controller -h # --help
make:controller - æ§åˆ¶å™¨åˆ›å»º

Options:
  -f, --file      æ–‡ä»¶è·¯å¾„, å¦‚: v1/user  required:true
  -F, --function  æ–¹æ³•åç§°, å¦‚: list     required:false
  -m, --method    è¯·æ±‚æ–¹å¼, å¦‚: get      required:false
  -r, --router    è·¯ç”±åœ°å€, å¦‚: /user    required:false
  -d, --desc      æè¿°, å¦‚: åˆ—è¡¨         required:false
```

### æ§åˆ¶å™¨åˆ›å»º
```bash
$ go run cli.go make:controller --file=v1/test --router=/test --method=get --desc=åˆ—è¡¨ --function=list
```
```go
package v1

import (
    "gin/common/base"
    "gin/common/errcode"
    "github.com/gin-gonic/gin"
)

type TestController struct {
    base.BaseController
}

// List åˆ—è¡¨
// @Router /test [get]
func (s *TestController) List(c *gin.Context) {
    // Define your function here
    s.Success(c, errcode.Success().WithMsg("Test Msg").WithData([]string{}))
}
```
